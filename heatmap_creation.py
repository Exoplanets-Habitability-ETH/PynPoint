import matplotlib.pyplot as plt
import pandas as pd
from urllib2 import urlopen
import numpy as np

arr = [14.9386268576,14.98899727,14.9999427491,14.9052069414,14.8121528108,14.7569331801,14.7372203295,14.6987747481,14.6571798466,14.609817773,14.555103549,14.4956837409,14.4793200356,14.472094641,14.4571130903,14.4366843051,14.4218527452,14.4218313983,14.4357086092,14.4276597534,14.4349309673,14.4385166385,14.4669129186,14.4757455331,14.4802470179,14.501889087,14.5173444121,14.505856993,14.5196424391,14.5054517993,
15.6015086983,16.2419769856,16.773277081,17.0848300913,17.1813616683,17.2350658862,17.3675462092,17.2659733211,17.263610043,17.257547332,17.2414180701,17.2096176778,17.2238868689,17.2629442339,17.2942544219,17.3169137656,17.3470750434,17.3860146199,17.4493540861,17.4846520243,17.5486136607,17.603924248,17.6897994712,17.7587173478,17.8267595356,17.9142936887,17.9893099356,18.0172638716,18.0726066377,18.0961588767,
18.8567682863,19.8830626314,20.3087780095,19.9888533199,19.835799983,19.3587526014,19.0569872249,18.7476632467,18.5067108041,18.6784710036,18.5711069772,18.5422664018,18.6128275287,18.2428977869,17.824592871,17.8449780258,17.8965683603,17.4175248134,17.4663753752,17.1549330296,17.2309354036,17.3067526811,17.4026521657,17.481077873,17.560217975,17.6607434401,17.7538098383,17.7939613647,17.8627137994,17.9033039205,
21.2783203947,21.1869226945,21.0668583283,20.2999135844,19.5281740555,19.2220657337,19.0433643007,18.9922680789,19.1169833426,19.1122303775,19.1779588486,19.4373703368,19.5731602298,19.6616906738,19.6961657772,19.6983248352,19.7173477223,19.5943473407,19.8222678933,19.8349438392,19.7986630798,19.7347254735,19.7834028025,19.70033967,19.7068392081,19.9060826695,19.7633701192,20.1950967986,19.9792358889,20.1480304466,
20.8101971888,21.3131402715,21.2780617162,20.6710915482,20.2874147617,20.0394706295,19.9167192308,19.8507402695,19.7696290911,19.5979705015,19.5455920479,19.5854503382,19.6750318592,19.7585256964,19.7734922993,19.7809638033,19.809950919,19.8019912027,19.881159165,19.8252470144,19.8481343392,19.8219142619,20.0406859495,20.051003715,19.9334324636,20.1274107712,20.2887244276,20.3625758921,20.497677707,20.5792601048,
20.8264491782,21.070414255,21.0091436196,20.5959434203,20.1730952519,20.033539649,19.9992828438,19.738516868,19.5721364971,19.4260843059,19.3273315959,19.2678217257,19.4195257663,19.5326828651,19.4737346365,19.4925632014,19.4530385638,19.3433222723,19.2753125093,19.2505417922,19.2011292972,19.1429412982,19.2826924312,19.5069316623,19.7328718205,19.8316106752,20.1009313952,20.2232506167,20.3999595655,20.3335415579,
20.7780644537,20.8360444056,20.811339381,20.8113538386,20.2264485002,19.6343556208,19.6253299906,19.6081596938,19.4346266089,19.2925192155,19.2254094006,19.1804337902,19.3019025268,19.2269953028,19.197238175,19.1401242192,19.1371319769,19.1153165224,19.0883379402,19.0776698976,19.074269123,19.1471776601,19.2603018141,19.4691558377,19.4341783234,19.5216766805,19.6114448605,19.5972661609,19.6759689964,19.7416243331,
19.4966506125,19.6792782943,19.7402992616,20.0172802202,20.2330412351,20.2101058808,20.0229916259,19.8624298387,19.9408952793,20.1786343933,20.0841481788,20.0193248502,20.0761220985,19.5410056999,19.5053214575,19.1228174017,19.1302751168,19.174717348,19.1725908969,19.1671861267,19.1757969383,19.2201280437,19.2919400029,19.5757658198,19.5445331407,19.5961965432,19.572098028,19.705573828,19.7449229679,19.7926106671,
19.8536695906,19.7521581388,19.7420161474,19.4283676698,19.56126613,19.9136369568,20.2376750426,20.4374542286,20.5979012715,20.1859396801,20.1820040418,20.065766468,20.1478722381,20.1097327147,20.0468831911,19.5519239557,19.4810358477,18.9166654532,20.1325126494,20.1089762423,19.9125465119,20.0129256641,19.9416617868,19.8281277095,19.7111161223,19.7165176792,19.8102146388,19.8565937851,20.0236959507,19.9879106313,
21.0150711927,21.4510190964,19.2840027448,19.6461764603,19.4362523926,20.0060704494,20.8687046668,21.5364775213,23.0243310894,22.6308711605,22.3957674692,22.0581455116,21.9618305402,21.6218136416,21.2694981009,21.0553438772,20.8305730755,20.2415119129,20.0726319302,19.9480333346,19.8025229457,19.6337890709,19.4543589314,19.3092250263,19.2211231371,19.2633446309,19.7988232893,19.7836343494,19.8321101455,20.3007587023,
21.4083242317,21.4823124192,21.2045283956,21.796919284,19.5797344341,20.4431369736,20.0960206002,20.70751659,21.383373306,21.2367171475,21.2237402628,21.1939075142,21.2214140302,21.0847329754,20.8502071015,20.766199743,20.670199903,20.3595936447,20.1720841101,19.9378045796,19.7508732387,19.5765375859,19.4850098281,19.3643841098,19.2993577313,19.4067322888,19.9055955302,19.7961333851,20.4847524692,20.4354770365,
21.3860436037,20.9992181053,21.5808949873,21.5565965226,21.6039070959,19.7799526059,19.7907265215,20.1919091323,20.526836314,20.7053096137,21.4370423434,21.9277258455,23.4797176779,23.2536154015,23.0972202561,23.0434002839,22.9233007118,22.7782012171,22.7655659104,22.5658521249,21.8640362192,21.4799836653,21.6090513853,20.8780202427,20.8188392343,20.7605687276,20.8253054327,20.89088305,21.4075575283,21.3864083632,
20.5916788792,21.0010922236,21.4146896834,22.8486778768,26.0642662922,22.9996335232,23.0402951345,23.5640114544,23.7067888188,23.558663786,23.1985185894,23.5740229258,23.4217644513,23.1927456552,23.0359986002,23.1627623968,23.1395385686,22.3957269865,22.3037278201,22.1984609957,21.8756911718,21.5970671898,21.002699424,20.9918463081,21.0988691556,21.1282892885,21.311435768,21.3788657341,21.4868769336,21.4511585471,
21.4719486254,22.8705562436,22.5966102479,23.4268496959,25.9972123078,25.4939894172,24.8659766261,23.5375048793,23.0911223713,22.5636185072,22.2994141324,21.2402356101,20.4534035354,19.0201621933,16.8524617352,15.6576541816,14.8809068443,14.3022636059,13.159057449,12.7136615333,12.4777652164,12.1691479011,20.8091056693,20.7742334127,20.8745987896,20.9516199538,21.0660069482,21.2286113781,21.3425358482,21.44927445,
24.0719795575,24.303902416,23.9888503492,23.5588763037,24.4252365786,25.3933572581,23.4586202784,22.7081327339,21.580736995,20.0167846498,19.385174982,18.8512319623,17.6927505422,16.685328747,15.6315272087,14.9226702677,14.6622344606,14.0017164702,13.0598672364,12.622784488,12.3966601074,12.1195205967,11.861805925,11.7334834488,11.327859218,11.62411909,10.9863842999,11.0940497664,11.1013062934,11.4226818594,
24.3647444341,24.1428474446,24.6348068361,26.686512531,25.7450200651,25.7899432595,21.9176538337,20.6966831663,20.1597089609,19.4468996102,18.3787301166,17.4307884102,16.0184873921,15.4787911521,14.906413137,14.6685958092,13.8301462129,13.9842680549,13.5302115714,13.3188082947,12.327311399,12.3529834903,11.6727654941,11.5422853489,11.4312696133,11.3321009917,11.2719720176,11.2055058293,10.9749879798,10.9302736948,
24.4127985671,24.5572202074,25.2690978055,26.1888556208,25.7328629711,26.0180526025,23.1074062894,21.7019055291,20.5057181435,18.8959733508,18.0316591396,17.2308010823,16.4630628058,15.6776982612,14.893711881,14.065521492,13.3288252354,12.8486326795,12.5820110297,12.2315916222,12.057419154,12.0081159715,11.3462411331,11.3805137784,10.9017023734,10.4234953104,9.97365067595,9.63248212063,9.11148023542,9.11308606383,
23.9937243574,24.3525035891,24.4694959708,26.4520133517,24.3367539128,24.6281340594,23.0163729654,22.2486533342,20.8895815212,19.2439864553,18.355590153,17.4422010852,16.6496218055,15.8876533247,14.9610574339,14.2748428122,13.4223679768,12.8888227076,12.5668409783,12.3032211934,12.1542197029,12.0409164937,11.8497954906,11.1510307739,10.9014516529,10.1495375826,9.81324880836,9.56161802664,9.43182803691,9.44348830138,
23.9380687954,25.1896448775,25.1026969413,26.5068875691,24.0973419626,24.0605216995,22.8483649253,21.5050662084,21.1071302906,19.6096604591,18.8465376712,18.0568394233,16.9262139304,16.1622145724,15.3234223609,14.214770802,13.5268289926,12.9637839288,12.5780198116,12.2489361627,11.8596704663,11.5362013422,10.3689627246,10.3207834944,10.1624350716,10.1922289018,9.79020515436,9.55546095851,9.30043762498,9.26830950007,
29.7005907773,28.6363181496,25.6180806934,26.4549892753,24.218310617,23.4440585621,22.532196748,21.0613459084,19.8993174197,19.0924998642,18.3879623966,17.717053462,17.2625396105,16.4528929618,15.4288153736,14.5619779506,13.6982648291,11.7059781974,13.3540104557,12.6109318335,11.9817469957,11.4823555851,10.4401992392,10.1233851422,10.0441510572,9.85032915069,9.53041138353,9.43941322825,9.47372901329,9.51754019815,
28.2452663953,28.0780904894,28.1196805963,25.866151568,23.76571951,22.7595124894,21.4774203983,19.5150419387,18.0589603373,17.3287433788,16.2586701199,15.4174129498,15.5424466227,15.700450162,15.0877213077,15.7781634902,15.4415686892,14.7485744198,13.7751173755,13.6290635408,15.5058398422,13.5579392302,12.6221647483,12.4059635134,12.4820208492,12.639240063,12.2563553966,12.1110081358,12.4479538543,13.2561829497,
24.6828064991,23.0731319022,22.802813881,23.9083391393,24.834329724,24.2050194602,24.8802596405,24.2705209759,23.4361583954,21.2711149261,20.2448751019,19.0291410497,18.0789195025,16.4983470882,15.2162155435,14.7894663753,15.297529202,17.5925988659,15.9339519969,16.0147003173,14.7224535323,13.472063577,12.819825285,12.3099995796,11.7661988909,11.5173592641,11.3862032774,11.4574569776,11.6828927921,11.9661650612,
23.6850570481,24.3564298729,23.3995626876,24.4646475543,22.1616413287,23.9258286814,24.8705860294,24.457939548,22.9754323945,22.135965177,20.9412784045,19.7123636462,18.688556452,17.7050613274,16.9946211811,16.4954355917,16.0880966999,15.3510500305,14.3495534478,14.1267644934,14.4664768936,14.2737886823,14.9647687821,14.2492489891,13.9245075373,13.2914686947,13.0778554936,12.1783827111,11.4176068839,11.8458955449,
25.4171683724,24.7848012222,24.5774973278,25.2181964223,22.4432410073,21.7422012167,21.9040150848,22.7847802385,21.2400299584,20.072604299,19.4733631928,18.5489595954,17.4784266077,16.593708048,15.9700167149,16.0170917698,15.7876452303,16.423240366,16.2875125249,15.8635536299,14.8934728175,14.0490532667,13.1591990933,12.6485214273,12.0735621781,11.840184051,11.5280956241,11.1341354001,10.9279067131,11.1509427784,
24.861525448,24.2114303653,24.9190752193,24.8043090518,25.2654094361,21.8290208862,23.109876242,22.156739514,21.4733686784,20.0563320867,19.4673754502,18.5656914038,17.5284702117,16.6490541224,15.9970278821,15.391437764,16.1966704247,15.7738420541,15.0835564899,14.0321347753,12.7092109144,12.08139124,11.5879736434,12.0394398322,12.0690241003,11.9942627416,11.4065763454,10.7923645482,10.4744326971,10.4744326971,
25.1203443645,24.6302399446,24.4778696627,25.5187156831,27.5705147284,26.6909961324,22.1964615222,20.6540222923,19.2631089698,17.8380865381,16.4788702495,16.4605481035,16.1471888561,15.7884190962,15.4485043859,14.9269552344,14.0547417161,13.8114520665,13.9284089307,13.2133301337,12.5264673051,10.8395610157,10.2817158919,10.0080283977,9.79629196476,9.6114689554,9.3359392438,9.05284523273,8.94040058194,8.94040058194,
24.1893138006,21.8351903413,23.2851041738,22.7038482704,27.9298011633,27.2477215997,21.1852215473,21.1738839698,19.911975218,17.2863468657,15.8886348764,14.411898448,13.8112179997,14.3794583401,14.2740531421,12.8491830937,11.6766147469,10.8348082147,10.7511759821,9.97543267651,10.7453339211,10.3792057284,10.5369394864,9.79834803972,10.0100003202,9.70546294083,9.62783692889,9.24218573042,8.90948010273,8.90948010273,
23.1117069264,22.5881952202,21.7212603445,23.95993506,28.2096049168,26.9560536335,22.7594898318,19.7133956416,18.9374391443,15.1050803119,14.0188236199,13.2579356987,12.4095028816,11.186929401,10.6176446026,10.436766592,10.2909521314,9.86898666622,9.42240723645,9.10214806202,9.32424467392,9.77745790928,8.91380990814,8.36121465768,8.43028815389,7.99798868898,7.33089108435,7.51742569325,7.45952928064,7.45952928064,
21.2141684758,22.7849480008,26.7051896791,28.1890369774,31.3603680058,30.2024576646,21.7871726586,19.0255070075,17.7141753859,17.7141753859,14.7324810542,13.0866815441,11.6754123453,10.775271997,10.7173509995,10.5698193569,10.3132809073,9.13587327356,8.41567312508,8.41567312508,7.6203265383,7.47458458609,7.65683809802,7.57751162626,7.26612049331,7.55605291929,7.09138225634,6.76585749582,6.66980938557,6.66980938557,
20.764369345,22.1418927343,26.3133780143,31.6313283503,30.084787039,29.4719954529,24.810463415,19.6481538246,17.4624492581,17.4624492581,12.9456144534,12.0610236111,11.1466813099,10.3216688666,9.96488405705,9.83316700872,9.73121732579,9.47291055819,8.30871885917,8.30871885917,7.7706399353,6.87571241696,6.57281383229,6.96841829481,6.63550984597,6.30629135675,6.86736961316,6.66899173022,6.71796721507,6.71796721507,
20.2891236509,19.9501336363,24.8955865889,29.2378808482,28.4362822833,26.7699484033,21.349662256,18.7547461821,16.2589691673,18.9374391443,14.3081693265,12.4171702011,11.5335114305,10.5280779802,9.4626127812,8.76654012829,8.60365193789,7.72093229477,7.19170203588,7.19170203588,7.72350459168,7.45158900376,7.20464963628,6.82025465996,7.32469719183,7.23288789213,6.69497366315,6.56142188209,6.26847174225,6.26847174225,
17.8248896946,18.9411576178,22.5799350492,25.9990345392,27.1297773551,24.8087169992,21.2280824445,18.0534697179,17.6503720988,17.6503720988,14.9149739642,11.9581026081,10.5882077394,9.23276605296,8.74652683422,8.69744291075,8.61134733167,8.15384221377,7.84400206717,7.84400206717,7.51862631358,6.6962063381,7.22220865547,7.57660587139,7.83552585578,8.10736931441,7.82571666199,7.4694855641,6.68838960119,6.68838960119,
15.3787824131,19.3606195197,20.4956542704,25.4520145817,25.9285387498,25.2375032805,22.4494725308,18.9460857907,17.161681336,17.161681336,13.6616357694,12.742330352,9.99374761925,8.50677075418,7.68715870475,7.4756680216,7.50629235958,7.3760905554,7.35535525721,7.35535525721,8.12109282692,8.25551207375,8.04645099337,8.35217579718,8.40509125985,8.59032926727,8.37021838412,7.79156198961,7.98097360152,7.98097360152
]

tmp_arr = np.reshape(np.asarray(arr),(33,30))


#page = urlopen("http://datasets.flowingdata.com/ppg2008.csv")
#nba = pd.read_csv(page, index_col=0)

# Normalize data columns
#nba_norm = (nba - nba.mean()) / (nba.max() - nba.min())

# Sort data according to Points, lowest to highest
# This was just a design choice made by Yau
# inplace=False (default) ->thanks SO user d1337
#nba_sort = nba_norm.sort('PTS', ascending=True)


# Plot it out
fig, ax = plt.subplots()
heatmap = ax.pcolor(tmp_arr, alpha=0.8)

# Format
fig = plt.gcf()
fig.set_size_inches(8, 8)

# turn off the frame
ax.set_frame_on(False)

# put the major ticks at the middle of each cell
ax.set_yticks(np.arange(tmp_arr.shape[0]) + 0.5, minor=False)
ax.set_xticks(np.arange(tmp_arr.shape[1]) + 0.5, minor=False)

# want a more natural, table-like display
ax.invert_yaxis()

# Set the labels

# label source:https://en.wikipedia.org/wiki/Basketball_statistics
xlabels = np.arange(0.0, 6.0, 0.2)
ylables = range(0, 30, 1) + range(32, 152, 2)

# note I could have used nba_sort.columns but made "labels" instead
ax.set_xticklabels(xlabels, minor=False)
ax.set_yticklabels(ylables, minor=False)

# rotate the
plt.xticks(rotation=90)

ax.grid(False)

# Turn off all the ticks
ax = plt.gca()

for t in ax.xaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
for t in ax.yaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
plt.ylabel("PCA components")
plt.xlabel("Threshold for denoising")
plt.title("SNR for time denoising")
plt.legend()

fig.savefig("test.png")