import matplotlib.pyplot as plt
import pandas as pd
from urllib2 import urlopen
import numpy as np

arr = [1.98115400095,1.62145057944,1.53345673601,2.25387894292,1.00594331185,2.1558454932,-0.30212090273,2.31649342219,2.30683703099,1.58459287664,0.611893605112,1.65828600859,1.55741146323,2.04900828102,1.05295778102,-0.331289397857,2.13538068696,-0.51765577041,0.508202242242,1.73853743733,0.193373848683,1.27501358655,2.33501758363,1.50677868754,1.59948108423,-0.161112191675,1.91511757169,0.920917701392,1.33247393975,0.930063589108,
2.53214525139,1.95693003984,2.64157217747,2.30229039596,2.71949965375,3.13789616839,2.38544909276,2.66006546698,2.90835395559,3.19573084223,1.96460719563,2.54589826799,2.68062386363,2.50740671567,2.47887363732,2.56404351096,2.64777376616,3.53453994691,2.11447130298,3.20136681123,2.94118281782,4.13028912864,3.04831326597,3.13684278934,3.19472453672,2.77630347882,2.29209044346,2.11974902274,2.12211266633,3.18165621482,
2.5942128764,1.27372376885,2.92220872541,3.0313125353,3.08828241238,3.42685658763,3.43059865583,2.95201753439,3.05928048825,3.38998338221,2.01030942113,2.80866689283,3.6759026801,2.61130991026,2.68231085504,2.6523982136,3.73762327551,3.71146803334,3.85383414129,4.01488992007,4.19479862201,4.25791319,4.34319382047,4.59442046428,4.45305181339,4.00075421333,4.2857660179,4.59409729368,4.36195227207,3.15677087038,
2.71230759484,1.22653775662,3.32566229447,2.92885174712,3.16424371478,3.447416981,3.33331671969,3.35487433638,3.22586079217,3.43284311206,3.44019826618,3.66011923039,3.67651565794,3.77211900922,4.21373246062,3.53462428239,3.71056915809,3.74231195737,4.32461922145,4.22305584313,4.29722814959,4.28884847443,4.36217286608,4.39906939251,4.36230848263,4.0715169389,4.38397126476,4.52719384744,4.56356381237,4.59482390584,
2.6617536781,2.64771836087,3.66760098938,3.14553314888,3.29960994602,3.39424943662,3.35190807128,3.50580440122,3.45676486272,3.66685334327,3.35036751681,3.75344807173,3.68586624968,3.76187791561,4.12274756821,4.31824784584,4.09668866677,4.13292708858,4.18210430648,4.21992417009,4.26690277334,4.26971611873,4.3185070893,4.35475731649,4.33548636114,4.27352630987,4.3936634982,4.50133424576,4.54478555586,4.57484208966,
2.64325039547,2.70349390154,3.47681913376,3.57702486544,3.4253492469,3.30346270539,3.43368628697,3.61568489848,3.81226192643,3.68779090761,3.33961819544,3.83873709403,3.84756183657,3.76152633994,4.08941120605,4.26628565816,4.1107873438,4.15307175835,4.17274771366,4.4536760747,4.49348156176,4.44479596463,4.36550951296,4.41788952637,4.48824312178,4.3451541343,4.40383385606,4.48063673949,4.54969731708,4.73569521599,
2.70669802816,2.54430271967,3.41688003427,3.25092356317,3.44990426419,3.76009937359,3.51551837826,3.96761762116,3.82455417635,3.93643783305,3.41836235121,3.98412104635,3.85080243097,4.0888212261,4.1659553205,4.26565629623,4.16189403059,4.4594794025,4.22985455383,4.48236039908,4.53058844702,4.50187466198,4.50019739298,4.60803664495,4.51689260217,4.38754758379,4.51503517922,4.50470075483,4.67902797588,4.76577295642,
2.68883624123,2.75942253234,3.25154864931,3.47535492926,3.26005858246,3.69792282859,3.78502921401,3.95526411951,3.99193688014,3.93090888675,3.63037647733,4.05380542689,4.14666518426,4.14132089566,4.18584629852,4.25615443122,4.46670287966,4.46423569862,4.18105549219,4.48416519703,4.46611609961,4.5053688597,4.58606099681,4.56594290268,4.61474598526,4.40127956614,4.54169728629,4.58169786389,4.75140952432,4.75630414295,
2.64727958536,2.77867954681,3.17413953007,3.33352174806,3.60395739307,3.75076238927,3.8649858461,3.93324580126,4.05213229454,3.92223426585,4.09000426958,4.07924540408,4.27514733397,4.23975653553,4.23433216171,4.27364750728,4.49725409936,4.4473832697,4.46639286392,4.44784407441,4.46356875524,4.48874481783,4.52174950045,4.59736145263,4.57273772719,4.3807389668,4.65944719212,4.67850199928,4.75706012954,4.73384589206,
2.64964226618,2.71550602736,2.94391384086,3.29160851848,3.5638536627,3.7555511187,3.89828465033,3.93641193226,3.9782160803,3.88899707382,4.09065294622,4.13974953523,4.32815458965,4.23256882893,4.21984566775,4.19308967279,4.43802864931,4.43524242049,4.52033999121,4.44183187749,4.47916140897,4.479385995,4.50977219081,4.58924424896,4.60177601426,4.68981315751,4.67759278,4.63865582017,4.69977109297,4.79373171818,
2.5773821755,2.73206699343,2.62486230459,3.24301078525,3.50520838833,3.98471206986,3.99981516537,3.98107839906,3.93763685039,3.9217254573,4.09395222823,4.11612637486,4.32851746136,4.34160199622,4.23926841832,4.23203119805,4.41865814723,4.43644896958,4.48803916043,4.43453779922,4.50056459524,4.57294645894,4.53571894003,4.58615364987,4.61036241775,4.65634852865,4.65989351574,4.724595518,4.73575438233,4.79391504041,
2.64959065962,2.56515001975,2.58043527359,2.94895570997,3.71486529811,3.86950400437,3.96825541941,3.99896852692,3.94597301607,3.96981424435,4.08838405842,4.15178588067,4.29024667972,4.27556104885,4.21345366608,4.25974610734,4.42959869702,4.44228098216,4.51224458183,4.48594211372,4.49180913332,4.56290509519,4.57898503516,4.58949487432,4.61897563473,4.61369870027,4.65014692456,4.7289158807,4.7572931212,4.78306907109,
2.73747088723,2.78719356727,3.27201024649,3.23905525474,3.66198450523,3.82316029387,3.87644981517,4.00405865746,3.97919553995,4.03197112408,4.02063366143,4.14171257662,4.14744192969,4.1954505953,4.20238415994,4.33296747855,4.37828936194,4.40579486617,4.53668443135,4.48442379317,4.50972700296,4.550634725,4.57736846405,4.57576005414,4.64299185246,4.62247304569,4.70280405629,4.73504138447,4.74900844393,4.80531168101,
2.68705782378,2.83387100416,3.50792238172,3.71876038781,3.8571158312,3.92040049004,3.72912395713,3.99419695396,4.02223922771,4.04106134439,4.15095652303,4.14326190645,4.13333064517,4.19491859127,4.20550711249,4.31458730186,4.40757320554,4.29544453667,4.4829977908,4.48324905976,4.60638354623,5.52078510095,4.65402289036,4.57159487315,4.64415008562,4.61147285004,4.71928398944,4.74586463359,4.78784588849,4.79459199938,
2.75816928602,2.93320529663,3.39616254005,3.67025203165,3.53856262414,3.91614358354,3.87182294356,3.97078239803,4.0831295245,4.06400194681,4.10712933008,4.1749564302,4.06416438287,4.22128819447,4.19042408235,4.35695708921,4.4018922645,4.34643246431,4.51114581647,4.54947209674,5.33726676221,5.69445164208,5.46473942381,5.46153985022,4.61896000977,4.61234655348,4.77971794413,4.75355724535,4.77006722573,6.01244576797,
2.84527966347,3.79280374114,3.61226763743,3.54193224001,3.6386151226,3.71791889942,3.86514729358,3.94865185219,4.08061652499,4.0956477216,4.14281055457,4.14755801825,4.11526417868,4.10578006135,4.18221306167,4.31013771004,4.38046765901,4.54165075267,4.43702477283,5.38127812671,5.28684972324,5.65088928083,6.12950426696,5.77841718695,5.54648720477,4.54535920338,5.00394491904,5.4315904116,6.73096894919,7.01113589034,
2.75614525926,3.79899824675,3.62846632337,3.63540592387,3.6493860246,3.31868711779,3.93326932217,3.91649917355,4.02900899208,4.09404618925,4.06394063579,3.97065122762,4.10323721058,4.12470667042,4.2512118715,4.27451446866,4.37589537987,4.91865670948,4.37333909725,5.18087993038,6.12475491836,6.28540729697,6.12299867261,6.51173086742,7.29466817271,5.02482184279,6.08947989778,6.24436634713,6.51344415131,7.15768464646,
2.8341524545,3.84829294361,3.56138708185,3.66921748856,4.01463288367,3.35237510225,3.86237176786,4.03125622357,4.36454292753,4.0774689748,4.10496602384,4.08271088747,4.45611195504,4.44310095815,4.30646764666,4.21414831109,4.53700538439,4.92983331703,4.51824223141,5.18699501444,6.22924956013,7.15798311074,6.21062841534,7.496087178,7.41358626598,5.41468576981,7.11761110754,7.44102379216,7.45233482493,7.47233443221,
2.84786917032,4.05090156875,3.62223880074,3.66538108127,3.95927483734,4.12751634498,4.3470521743,4.38861476719,4.53790037725,4.10502148798,4.09927276665,4.45532703964,4.39245185984,4.2675159156,4.28356493252,4.24464197729,4.767865618,5.30847979274,4.94897490031,5.19481360649,6.28488436758,7.17385216734,7.65617211974,7.18929797801,7.66652925555,5.36271159832,7.14701673363,7.4790184691,7.31887216475,7.6511399986,
3.08861356901,3.9743910636,3.603549049,3.76770770043,4.13991960026,4.13945077774,4.32611698545,4.57478008821,4.69753033767,4.39367868436,4.11885251445,4.38646741233,4.35004779098,4.34465548085,4.48566904242,4.29581788984,4.74387697805,6.07431159746,5.01844410028,5.5285280125,6.56539656384,7.39796906695,6.91112225969,7.43038691718,7.02375977428,6.87801840061,7.49879870635,7.89585984917,7.71378171548,7.88123967662,
4.3377160325,4.30047842158,4.36859271087,4.59955965884,4.81743470847,5.60501931097,5.61309402739,5.75314938935,5.51775330356,4.66101193211,5.32621068983,5.48318036707,5.80448537322,5.70107129988,5.33033643954,4.59945491912,5.68764669644,5.6919692982,5.82598578707,6.05571506668,5.73620627907,5.5695443753,5.59341279814,5.88500357101,5.72119363636,6.6106051365,6.23876702619,5.66386467902,6.4637536856,6.42781128752,
4.73804171921,4.62232770598,5.12847178447,4.92270507696,5.06831284065,5.50657423531,5.4538578935,5.46392442866,5.56106226115,5.7463678077,5.61192957993,5.36797587261,5.68536702083,5.48930870363,5.79007076697,5.73548962144,5.70402735048,5.56393855978,5.56207367434,5.57978653717,5.5897185222,5.60814554307,5.71154654334,5.70397928564,5.73798325433,5.51941264948,5.70917136187,5.3410020148,5.29857421318,5.2207941173,
4.8831996248,5.01501387936,4.90166002478,5.3286288493,5.62659520383,5.63215864523,5.36048421082,5.22530123146,5.49898566514,5.38712927113,5.59128908637,5.49757025387,5.5205077412,5.56176035017,5.61211604356,5.72542835724,5.70144233253,5.2828690159,5.56901265991,5.63375097923,5.25499765971,4.62322686364,4.66493316497,4.68619548603,5.21136638843,5.54985790067,5.29888026608,4.57020048002,5.12816214252,4.58963708458,
5.89463532618,6.36421112235,5.07062949942,5.39322693976,5.79583702768,5.65680443665,5.34032236716,5.19902153395,5.18737539495,5.25580288999,5.6526347722,5.34570120013,5.34692422291,5.43645992377,5.59950863919,5.78322310931,5.10502830667,4.70332933994,5.03642511215,4.61006264689,4.5510222303,4.37174030264,4.14839804859,4.25650041119,4.34619758618,4.71987559918,4.37657839444,4.42177836814,4.46767836524,4.0680525982,
5.268218701,5.44425811771,4.97386412084,5.40502987622,5.50840988719,5.68761330871,5.25552297937,5.23654335654,4.85808854786,5.02206074999,4.97968618214,5.18084606789,4.99073524726,5.02863075381,5.64821429521,5.68988322619,4.81086835185,4.03340012755,4.49210666394,4.68173008981,3.90463952509,3.64314993261,3.7874745735,3.84544808996,4.01606919732,4.00083641884,3.86474866503,3.88154317707,3.88623126666,3.67908725212,
5.38404537176,6.16509173772,5.45809976927,5.76798597593,5.5265835905,5.19124148056,5.22681648004,4.82853870638,4.71598242477,4.69917799716,4.8429076076,4.86904637792,4.74848794202,4.85031028006,4.9259668203,5.40201150174,4.08971709701,3.70685616552,3.66253504822,3.63211333586,3.79683390959,3.78822929347,3.70762279378,3.90980541687,3.64474647444,3.98381851848,3.78437491433,3.99343413604,3.86798422499,3.83620538679,
5.58481094149,6.2879457141,6.43355465016,6.12381322685,5.78811349841,5.78244094074,5.00768974681,4.57477129229,4.7214032173,4.35832371244,4.54097777227,4.19311623417,3.97051897308,3.8190281882,4.68747500386,4.98779769399,3.8340714126,3.64290929652,3.98072095168,3.76064955421,3.36003759665,3.24538344555,3.04410237696,2.99305162762,3.42951770508,3.75154520513,3.82787002988,3.82069218094,3.88370417444,3.43066831641,
6.06578317088,7.14173712421,6.31371919312,6.8076544209,6.79954484277,6.03008765935,4.97255608129,4.89117095986,4.33920273832,4.40767656008,4.20764874799,3.88992108532,3.86405376377,3.80114366454,3.78113144197,4.04226399054,3.71264793073,3.28464694886,3.32328260311,3.32827839931,3.0813774684,3.0712442979,2.63917089919,2.44622401898,2.92012357113,3.08481900639,3.04528678199,3.38083730486,3.47953359411,2.7060957539,
6.41049043863,7.34102696785,6.83486018501,7.08277633471,7.07502801638,5.67098027813,5.02465758091,4.96451368937,4.3935989502,4.10006028905,4.0258834447,3.86277588619,3.89220326082,3.59287089797,3.56688487311,3.93896748767,3.27063999164,3.28696857726,3.08454537951,3.3366936136,2.45892520803,2.2501439572,2.24420940108,2.22533273687,2.09921343495,2.51745189208,2.38970091966,2.35081138393,2.48573099729,2.46460034116,
6.4212164412,7.1888184979,7.82916273944,7.06438524612,7.14509107343,5.81612361886,4.96941966742,4.63354623637,4.5142114379,4.09062611055,3.93610370037,4.08461792482,3.84645994693,3.58039103735,3.73382999835,3.66732156059,3.47398679395,3.18015814708,2.9793485592,2.69876830651,2.44757101767,2.36437190921,2.00592179209,2.01326923529,1.94784373683,2.30100642728,2.20804450526,2.04032723332,2.33997281472,1.84647524001,
6.83095374682,7.89631144305,7.51594876072,7.31249150009,6.73425217941,5.81394893082,4.69326016044,4.7805670248,4.67516956396,4.30636465981,4.14947258207,4.22192891805,4.28714744051,3.97939655283,3.45466303783,3.25413172867,3.18823815206,3.31002132063,2.97298989117,2.78262491051,2.65839429964,2.72145835185,2.49688477607,2.29016326236,2.08513787275,2.08123677225,2.22946023354,1.55219001743,1.6328914888,1.67433350363,
6.3590739756,7.84673121414,7.56210377588,6.51165011294,6.57837529158,6.30172628908,5.87471401192,5.48177249446,5.56717916629,4.57146994217,4.63110160795,4.34509832724,4.36259819799,3.61824579448,3.63547460163,3.22956211542,3.55745353407,3.49968192394,2.98168663438,2.9903623398,2.73088392722,2.59106433119,2.17424462329,2.35502541212,2.21733820214,2.1527534408,1.87439081668,1.73840123808,1.70365858269,1.69467241794,
7.02063680414,7.46779127931,7.4795749683,6.88483690868,6.82292625069,6.18876158922,5.99218581003,6.02210646815,5.81637667416,5.35811522663,4.47041775803,4.60736987094,4.12217455748,4.1324802865,3.81184352201,3.65776053068,3.62551317737,3.27845326667,2.93030253291,2.95094753842,2.62734081284,2.54356164785,2.02687635413,2.30331211351,2.21034252436,2.07460837699,1.8491299237,2.03136198787,2.01687169174,1.902024437
]

tmp_arr = np.reshape(np.asarray(arr),(33,30))


#page = urlopen("http://datasets.flowingdata.com/ppg2008.csv")
#nba = pd.read_csv(page, index_col=0)

# Normalize data columns
#nba_norm = (nba - nba.mean()) / (nba.max() - nba.min())

# Sort data according to Points, lowest to highest
# This was just a design choice made by Yau
# inplace=False (default) ->thanks SO user d1337
#nba_sort = nba_norm.sort('PTS', ascending=True)


# Plot it out
fig, ax = plt.subplots()
heatmap = ax.pcolor(tmp_arr, alpha=0.8)

# Format
fig = plt.gcf()
fig.set_size_inches(8, 8)

# turn off the frame
ax.set_frame_on(False)

# put the major ticks at the middle of each cell
ax.set_yticks(np.arange(tmp_arr.shape[0]) + 0.5, minor=False)
ax.set_xticks(np.arange(tmp_arr.shape[1]) + 0.5, minor=False)

# want a more natural, table-like display
ax.invert_yaxis()

# Set the labels

# label source:https://en.wikipedia.org/wiki/Basketball_statistics
xlabels = np.arange(0.0, 6.0, 0.2)
ylables = range(0, 20, 1) + range(25, 90, 5)

# note I could have used nba_sort.columns but made "labels" instead
ax.set_xticklabels(xlabels, minor=False)
ax.set_yticklabels(ylables, minor=False)

# rotate the
plt.xticks(rotation=90)

ax.grid(False)

# Turn off all the ticks
ax = plt.gca()

for t in ax.xaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
for t in ax.yaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
plt.ylabel("PCA components")
plt.xlabel("Threshold for denoising")
plt.title("SNR for time denoising")
plt.legend()

fig.savefig("test.png")