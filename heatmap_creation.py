import matplotlib.pyplot as plt
import pandas as pd
from urllib2 import urlopen
import numpy as np

arr = [5.44944697871,5.46877297207,5.46624507441,5.41775228583,5.37309679306,5.36470502812,5.36750966484,5.35417867799,5.33705865138,5.32175756431,5.29785021414,5.27206838563,5.25683316399,5.24080992257,5.22582980817,5.21959896582,5.20952906436,5.20450608928,5.20572074167,5.20070711046,5.19688524543,5.189349557,5.19074769394,5.18021557854,5.16530725158,5.15104477602,5.14478763594,5.13509698678,5.1423227888,5.14034163377,
5.71923746354,5.92160050079,6.05860895836,6.12797969183,6.1502109508,6.1864330349,6.21881998507,6.22114434787,6.21658383552,6.21479560862,6.19951781038,6.1782395641,6.16290383666,6.14943488894,6.14246083739,6.14590998533,6.13805409776,6.13660814843,6.1474628153,6.15275914099,6.16047118633,6.16179763979,6.17565550346,6.18171233978,6.18046383787,6.18221648479,6.19499914199,6.2055147272,6.24070298122,6.2627794658,
6.05968348977,6.34708622901,6.48452694708,6.45679571759,6.38693039447,6.35968938171,6.33748713353,6.2964207973,6.25782376737,6.22129467377,6.17262635233,6.12198043157,6.08895693546,6.05841070672,6.04177851249,6.04275388369,6.03973215359,6.04434411899,6.06346797837,6.07813024732,6.09455541519,6.10794143788,6.13009531152,6.14143460853,6.1468937479,6.15509376065,6.17408963565,6.18567404022,6.22361907418,6.24923794435,
6.60290789381,6.66478112298,6.66846995002,6.5675846308,6.46264056223,6.41799109438,6.39504116256,6.3593565119,6.32778987787,6.29301642531,6.24199010981,6.18440142327,6.14498603622,6.11005188932,6.09604538829,6.10389293228,6.10729370201,6.13014902137,6.17008658769,6.21499152195,6.26244692037,6.30986305824,6.37066891778,6.41955823325,6.46362020403,6.50926646005,6.55353522039,6.58892224929,6.64526917776,6.67866380592,
6.51287139525,6.65400101756,6.59988649726,6.41418235261,6.24746786288,6.16307753613,6.10685314657,6.05022305321,6.01244868882,5.98712208726,5.96520288995,5.94428020195,5.94032499249,5.93785326319,5.95220343109,5.981908611,6.00290913069,6.03789807407,6.08323463618,6.13098386652,6.17779653909,6.22303320024,6.28135469671,6.32777428204,6.36805946494,6.41105415249,6.45095747824,6.48174336731,6.5371585835,6.5736748169,
6.61381279478,6.58239434388,6.51635336267,6.3368431621,6.13574558178,5.95709898398,5.8399485651,5.79792196296,5.74488679979,5.70747566434,5.67279664279,5.63603324356,5.613700819,5.5880146776,5.57484248477,5.57858970278,5.57537203456,5.58615895622,5.62177712144,5.67040225293,5.72637459775,5.787382238,5.87091487544,5.94421426783,6.02505587593,6.11427175294,6.20603772376,6.2740957762,6.36568465153,6.43782738991,
6.5381857339,6.57104470035,6.55292404359,6.37944440334,5.97779503824,5.77626957831,5.65771033973,5.55860296456,5.48257993804,5.4335233934,5.39240687202,5.35271641606,5.33368370153,5.31881299871,5.33110761904,5.36909435144,5.39807410544,5.43279040987,5.49082711552,5.53698463729,5.5690812268,5.59756856851,5.64113851067,5.68057312947,5.72520419974,5.78244674342,5.85395218724,5.91855234263,5.98667707175,6.03691845727,
6.34543891399,6.33869247247,6.32211363961,6.30188899165,5.95239398036,5.82544286322,5.70549055707,5.59915194367,5.53354690581,5.49704825044,5.46616714439,5.43256242596,5.41276256119,5.38664114057,5.38133830468,5.39441692596,5.40499757808,5.43077205299,5.48562976749,5.52941107684,5.56076701087,5.58745670744,5.6292447309,5.66619935656,5.70638739612,5.75665924902,5.82116410738,5.87586379088,5.93570768198,5.98229757211,
6.30552234351,6.27334635895,6.25230952454,6.00161423345,5.95485011275,6.00300431444,6.01604093359,5.91751910155,5.73274165852,5.60460529789,5.52951764952,5.47373913294,5.45036356031,5.42190554586,5.41397186605,5.413415916,5.38857641135,5.48569907843,6.0281533947,6.05798279687,6.03563883282,5.9997428804,5.96530246918,5.9468437712,5.93309118948,5.94324984345,5.97449556472,5.99555473074,6.02132297635,6.04631311722,
7.05729642132,7.24158960068,5.99461108925,5.97010461356,5.98672748571,6.08021637798,6.19423161729,6.22461805803,6.2112630345,6.2055193488,6.18137360661,6.16797811337,6.17732718652,6.16003660449,6.12918415344,6.11133068968,6.05778454098,5.99860117491,5.93355197336,5.92082248068,5.89546665002,5.85863735141,5.82843227092,5.79828723654,5.77674847872,5.77394590015,5.77738581539,5.77699409494,5.78664723134,5.79849961448,
7.12415551599,7.2338881801,7.06235559662,7.03926358853,6.1272024772,6.14534762241,6.25598902497,6.37636374274,6.09717687331,6.04528771652,6.00100290008,5.9853365873,6.01892264275,6.03081167991,6.02799711379,6.03988139631,6.01087899438,5.98109649885,5.95266704514,5.92483585986,5.89461017044,5.86223243734,5.83677829015,5.80981476103,5.79230042162,5.79263603332,5.79871176637,5.80073399014,5.8146116247,5.82908520529,
7.07055911207,6.84811945564,7.0621734884,6.87778226922,6.79288401961,6.32011091226,6.22807007725,6.26703977843,6.29917858539,6.27338303932,6.19421333082,6.07583091067,5.94816154848,5.82422448108,5.74070944336,5.7429820642,5.71938460966,5.72746821553,5.74333671772,5.76352618983,5.82203927518,5.97272939226,6.02461035309,6.03422738486,6.03260761892,6.04160221284,6.06332634274,6.07966192426,6.10633966619,6.13145904877,
6.77768184687,6.86888183816,6.9534823089,7.09256488858,7.43287672222,7.01267370161,6.88244689719,6.7296705061,6.58310241389,6.38838832727,6.18430606435,6.00438854485,5.89428913677,5.80748860986,5.77088113348,5.79322393319,5.78813782243,5.80308291002,5.82169885642,5.82956729718,5.82016790563,5.81956974976,5.8268383452,5.83935463845,5.86389695726,5.90696969503,5.96589167277,6.0071688682,6.05649925206,6.09058493029,
6.88374850289,7.25224675168,7.22019372252,7.16796488571,7.43952862054,7.2808913667,6.92241760405,6.634338043,6.37932139475,6.12305200899,5.98638633205,5.80775277853,5.54067837635,5.12775311202,4.42164327196,4.05863028013,3.89650902035,3.77976773997,3.68687908056,3.6547130315,3.66043797359,3.61460733425,5.7699595769,5.8100835411,5.85303064912,5.92504396418,6.00347538116,6.06902080191,6.14200838092,6.18950764445,
7.50435156804,7.42166498585,7.27813876204,7.28147129207,7.49193784625,7.56000689594,6.9272099489,6.66572273244,6.25780872759,5.39034650432,5.10455054373,4.95912909637,4.77839782987,4.54187920074,4.31155128361,4.14660251515,3.93966960247,3.75383530972,3.64608641946,3.59943745306,3.58881223916,3.56377154612,3.54544024634,3.53184269303,3.52402461417,3.50408867749,3.46434265999,3.47878321458,3.4574418941,3.51524223438,
7.60759161257,7.32082596275,7.26084618395,7.27335619772,7.64645091526,7.8501465951,6.64670514063,6.38997909098,6.25882045521,6.02162273766,5.5791557733,4.66746445944,4.24043807343,4.09159767694,4.01397291884,4.00973243432,3.98278761987,4.01774037643,4.04271011581,3.77207589824,3.5980754055,3.50028950928,3.42494512015,3.38581912113,3.34330919626,3.31297259196,3.26746805981,3.23874593486,3.17673087569,3.19141060216,
7.42289563214,7.48838182242,7.51567262367,7.16756171413,7.47904333316,7.93368477563,6.59414795884,6.11795551752,5.81569177052,5.58977163191,5.35014962529,5.1239118543,4.96084886956,4.74849433822,4.5316689175,4.30849487985,4.08437712117,3.91447151743,3.77317491607,3.65486265477,3.59682580361,3.54502968761,3.45848077009,3.34092151999,3.20217065731,3.07856668025,2.96406333963,2.89225710503,2.85207795931,2.89282717356,
6.37961485071,6.59837821414,6.74007593479,7.20901469826,7.17695997925,7.67675278618,6.8579952966,6.23803825019,5.82820871846,5.60608752742,5.36763102134,5.14767276273,4.96694678656,4.73650378822,4.50678898954,4.3020056337,4.08636225599,3.94731288188,3.8368271989,3.7353764909,3.6836220034,3.628524985,3.55472491388,3.28766338219,3.18799197833,3.11351605943,3.01960497899,2.93545802848,2.86041575826,2.84830452707,
6.3250124075,6.73568699049,6.72944396842,7.12354698749,6.81818306336,7.35697935906,6.78352497921,6.23493611489,5.86356029883,5.63745574484,5.41763283299,5.21150935494,4.98343059925,4.77886810192,4.61292413011,4.3548125427,4.13888498675,3.99718903795,3.87032440567,3.73738405576,3.6226454555,3.49869903669,3.37416788475,3.27737241575,3.18125653505,3.08533025116,2.99558030256,2.90339067359,2.80297183165,2.76105268814,
8.16618529363,8.54724933168,6.68628472321,6.93747366225,6.94198576105,6.7850428115,6.75370792355,6.16926674819,5.77348894301,5.52437905259,5.31856587243,5.16710349821,5.05158017086,4.88058336939,4.60221777612,4.40307659014,4.19537822059,4.14126319419,4.21399347766,3.94437518319,3.66767797385,3.45871140931,3.26441013975,3.12467027635,2.98958028504,2.89994899706,2.82373284494,2.78106768246,2.74010821138,2.74860842995,
8.43739927438,7.99146295829,8.1389793526,7.51519995141,7.12928051412,6.92381169016,6.34358101401,5.68312708867,5.25555611586,5.22718214522,4.95130979848,4.6590091198,4.75017584875,4.7555322717,4.50987146608,4.67320651156,4.63146372912,4.39268406399,4.22189966783,4.07461939434,4.29299196765,4.21998201547,4.15067691113,4.11312085777,4.08168014784,3.94283014211,3.74536666396,3.63743521958,3.63635162576,3.86837282358,
6.96499368955,6.39580349239,6.29160002257,6.85893949993,7.93997887802,7.66534028554,8.34752487351,8.01643062346,7.42588819233,6.53993572708,6.04548546393,5.74714967785,5.54668716089,5.02476798583,4.52355835701,4.4807486565,4.66277736175,6.33433531275,5.88801678585,5.32387696412,4.8228487187,4.60755009574,4.45023690115,4.32052519346,4.20190094773,4.14227368335,4.11210679635,4.1198393523,4.08932835478,4.09988708638,
5.95654584801,6.42164448765,6.44502550833,6.18785446584,6.31738379653,7.18698971032,7.73030248757,7.77916046761,7.19833529346,7.04708941537,6.7470220822,6.56833517282,6.37966540389,6.14187835129,6.01871137031,5.90632346467,5.76518608611,5.50160671205,5.1874269707,4.93453444573,4.8631448765,4.99588499409,4.8125704591,4.63326224906,4.44496333599,4.23626973081,4.07854381857,3.87661865864,3.74250557744,3.82385925648,
6.73152262903,6.54692063773,6.07968586639,6.13045245673,5.84140379357,6.27064542692,6.21663750096,6.9217683584,6.72643383018,6.60885020337,6.47790840699,6.2581917408,6.00377774219,5.72164400699,5.59099585416,5.69629308558,5.61308759585,5.46655240492,5.37149257319,5.2650657495,4.97327653876,4.61600787625,4.27615491043,4.03394850859,3.85594374877,3.72916555479,3.67520043919,3.5418338631,3.43380607205,3.4413137443,
6.79232001639,6.70513874075,6.33638624808,5.79480012433,6.11808158222,6.26949833758,6.38034142588,6.38171945805,6.04825428615,6.16055907074,6.21339367806,6.17348538935,5.92795722111,5.70414681257,5.51982917124,5.33856034756,4.97009282389,4.63951243356,4.36646531172,4.14119295586,3.92925440055,3.7237748717,3.55717330837,3.53990750489,3.5046846456,3.39716924834,3.29659923124,3.12846541726,3.00875181168,3.00875181168,
6.68215844782,6.508601922,6.53949286163,6.70218747084,6.70929268345,6.53011503223,6.71858934882,6.45485092957,6.06321647829,6.02447282455,5.76347521962,5.26746086446,5.14815520344,4.98932672815,5.02652168974,4.89967862256,4.58900508752,4.4826762189,4.22103122245,4.11738138371,3.91427670315,3.43670999874,3.20296899892,3.07097873851,2.97953756064,2.9297336239,2.8493241699,2.77850132068,2.78210570096,2.78210570096,
6.92253533578,6.23955953551,6.3578595186,5.85043043582,7.18498022677,7.23598435899,6.59822609701,6.48712576219,6.3161173719,5.75119780184,5.51557603084,5.00041937404,4.61049112705,4.73475349589,4.69780754806,4.07130597862,3.7476661297,3.58509675435,3.30593118583,3.05098685407,3.17244890528,3.10587336845,3.14724775979,3.1131751052,3.1861073065,3.09079416024,3.07144065288,2.93643712771,2.77703511909,2.77703511909,
6.79162095618,6.41347050841,6.12403728756,6.25548519612,7.10345162659,7.18086966099,7.54068159488,5.96909907709,5.21649004256,5.1219629132,4.78038327281,4.54766038357,4.19411253703,3.75968503146,3.6011835744,3.6110464562,3.38269030391,3.18213978334,3.01791026127,2.80722532772,3.09591022412,3.22439392411,2.88887613595,2.62063375115,2.43559867886,2.32874463361,2.33719919074,2.24503354455,2.26041276149,2.26041276149,
6.32219150271,6.72258928835,7.30785045516,6.83198633142,7.87549427475,8.44692365611,7.31603756625,6.42117362605,5.53262388018,5.1219629132,4.54145646862,4.01179072546,3.71123915335,3.35373206168,3.33415916688,3.15150076062,3.1587520366,2.97485930407,2.74960170207,2.74960170207,2.50493690032,2.44614237305,2.49754808561,2.37443620953,2.28795123621,2.20386819714,2.11008289681,2.0945172155,2.0966294033,2.0966294033,
6.31077225853,6.40023023043,7.14418000297,7.72484735238,7.18876929603,7.96577003704,7.77701109171,6.52213923721,5.49114431062,5.1219629132,4.13286844914,3.89023525898,3.6501113893,3.25520706023,3.1576565895,2.94049687925,2.89932997117,2.96104135476,2.74293632184,2.74293632184,2.58213315296,2.36411477453,2.23822507176,2.32800679271,2.26390760893,2.05146598956,2.18132211381,2.20358969567,2.18647179936,2.18647179936,
6.19556352824,6.06645822332,6.90395017429,7.66068204115,7.52194474928,7.05327117241,7.01485256591,6.22481865692,5.27054693431,5.1219629132,4.49215848397,4.228585733,3.85289491993,3.35140832277,2.96037574585,2.73048575279,2.7306321858,2.54357562569,2.39216500161,2.39216500161,2.52287448038,2.53711143781,2.45332122955,2.34108479669,2.53294591421,2.46797195431,2.35089858903,2.21379512638,2.0688366765,2.0688366765,
5.2300183566,5.74160037121,6.76472533828,7.13765474916,7.52437383366,6.58617823635,6.85833141477,6.24405052016,5.90287546204,5.1219629132,4.90765365496,4.04457506689,3.44785905846,3.06382281723,3.00981716171,2.93667863911,2.88057077088,2.71615418458,2.65984369041,2.65984369041,2.47712432905,2.33315359723,2.4649126238,2.46716246095,2.5265199057,2.57990443374,2.45680177325,2.31447695558,2.17512833001,2.17512833001,
4.66851227545,6.00106148597,6.59892625299,7.11438437813,7.20858870089,7.5518448236,6.18947856626,6.29310356091,6.1005210919,6.1005210919,4.84159849087,4.18993467555,3.48816546024,2.95646390599,2.65385799357,2.52804594336,2.46775703405,2.50449238637,2.47007704198,2.47007704198,2.58820374367,2.57844279349,2.4259308798,2.52548943801,2.63766612915,2.709583395,2.53686387474,2.40729603385,2.26422667763,2.26422667763
]

tmp_arr = np.reshape(np.asarray(arr),(33,30))


#page = urlopen("http://datasets.flowingdata.com/ppg2008.csv")
#nba = pd.read_csv(page, index_col=0)

# Normalize data columns
#nba_norm = (nba - nba.mean()) / (nba.max() - nba.min())

# Sort data according to Points, lowest to highest
# This was just a design choice made by Yau
# inplace=False (default) ->thanks SO user d1337
#nba_sort = nba_norm.sort('PTS', ascending=True)


# Plot it out
fig, ax = plt.subplots()
heatmap = ax.pcolor(tmp_arr, alpha=0.8)

# Format
fig = plt.gcf()
fig.set_size_inches(8, 8)

# turn off the frame
ax.set_frame_on(False)

# put the major ticks at the middle of each cell
ax.set_yticks(np.arange(tmp_arr.shape[0]) + 0.5, minor=False)
ax.set_xticks(np.arange(tmp_arr.shape[1]) + 0.5, minor=False)

# want a more natural, table-like display
ax.invert_yaxis()

# Set the labels

# label source:https://en.wikipedia.org/wiki/Basketball_statistics
xlabels = np.arange(0.0, 6.0, 0.2)
ylables = range(0, 20, 1) + range(25, 90, 5)

# note I could have used nba_sort.columns but made "labels" instead
ax.set_xticklabels(xlabels, minor=False)
ax.set_yticklabels(ylables, minor=False)

# rotate the
plt.xticks(rotation=90)

ax.grid(False)

# Turn off all the ticks
ax = plt.gca()

for t in ax.xaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
for t in ax.yaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
plt.ylabel("PCA components")
plt.xlabel("Threshold for denoising")
plt.title("SNR for time denoising")
plt.legend()

fig.savefig("test.png")