import matplotlib.pyplot as plt
import pandas as pd
from urllib2 import urlopen
import numpy as np

arr = [4.20579066323,4.20290068852,4.18117319693,4.13089114228,4.0961787394,4.08790442017,4.09924626019,4.12020403878,4.14848146637,4.17854287772,4.21337846203,4.25445662513,4.28806188764,4.32522911365,4.36023390463,4.39435312761,4.43235765524,4.47172933858,4.50963691038,4.54761069681,4.584496682,4.61951407269,4.656240736,4.6996768379,4.74211918401,4.78405725449,4.82758109426,4.87497408851,4.92444164795,4.97628230353,
5.70476208008,5.71618453467,5.69071610363,5.61946848135,5.60018230419,5.61118624919,5.63421076438,5.66267029561,5.68977960673,5.70969026443,5.73453714381,5.76840713683,5.79321531849,5.82580060039,5.856775147,5.89701183265,5.94278524014,5.99365084007,6.04499018934,6.09814306403,6.15267430914,6.20402857603,6.25720429779,6.31999056156,6.38114725503,6.44919999874,6.51850966264,6.59548023196,6.66859328381,6.74072198197,
5.68588564148,5.69435980016,5.6619298478,5.5855216901,5.55270274117,5.55779753854,5.57991206659,5.61197372036,5.6509565673,5.68604353382,5.72754782344,5.77946512113,5.82184132155,5.87324452193,5.91988778411,5.97094833579,6.0261505898,6.08109808392,6.12001681359,6.05129669833,5.99375935312,6.0665436679,6.12635286071,6.19261405727,6.25628603591,6.3251995981,6.39372113395,6.46912589909,6.54037246868,6.61036819136,
5.78385911969,5.79295819377,5.76131519935,5.68678575504,5.6545655356,5.65559576411,5.67221285687,5.6961608445,5.72203888457,5.7360468908,5.74227599239,5.74852400865,5.7530838414,5.78136843542,5.81420702497,5.85635142154,5.90711091775,5.96271198834,6.01772426878,6.07301741344,6.12959829113,6.1789160118,6.22982022607,6.29062359247,6.34911041802,6.40994833512,6.46987651085,6.53773381758,6.60026809043,6.66206587058,
5.74758280661,5.75594743096,5.72304889021,5.65669784471,5.63546978913,5.64452664244,5.66460320773,5.68926677703,5.71751691639,5.73948833251,5.76609176609,5.80328213132,5.83237661397,5.87154925833,5.9078237738,5.95085766182,6.00195846694,6.05813135574,6.11466596873,6.17281661931,6.23283481123,6.28716202199,6.34255043197,6.40910114587,6.47353422175,6.54071339646,6.60774102416,6.68305653121,6.75087253244,6.81771232893,
5.8031764784,5.81099424196,5.76932152564,5.69050223337,5.63231163908,5.60501034783,5.61498672408,5.65347922851,5.70506443648,5.75320849603,5.80768971838,5.87527406542,5.93714617337,6.00230999905,6.05382817432,6.09828616896,6.12715089078,6.14568460819,6.16431636539,6.19600562113,6.24030293239,6.28268301616,6.3336127689,6.39795164401,6.46208958259,6.52980666128,6.59760052809,6.67326811756,6.74044662967,6.80735851851,
6.21881560079,6.25256824481,6.33021106084,6.52648819113,6.15300524453,5.62092688969,5.64858477244,5.7057806065,5.80165384481,5.91383698323,6.03779414625,6.18520852706,6.33461493018,6.48647888954,6.61246403182,6.73831559717,6.84421816732,6.91989661556,6.95813032551,6.96687198227,6.93123879522,6.87022966196,6.77335342761,6.6366376751,6.44016474666,6.33007369744,6.75141890502,7.58310709008,7.69723210727,7.50295051527,
6.17395779444,6.20779912162,6.29439690538,6.53350970023,6.96292852722,7.398742433,7.70478022332,7.94727955621,8.1581063434,8.32628498495,8.48618294122,8.64899446118,8.78976346414,8.90972345513,8.99124478828,9.0301130559,9.01330801465,8.91239467223,8.7694573549,8.58075130312,8.35707628063,8.10617297426,7.85551670966,7.64043510661,7.45436545994,7.3124480445,7.22168608242,7.22209722416,7.31665792673,7.48277188496,
7.25728611795,7.37947075905,7.80455813693,8.62226550242,7.23549778683,7.63273385192,8.00727864706,8.27783734463,8.54202253073,8.71207961044,8.87870488117,9.04588625946,9.1710169705,9.25198344128,9.27621424177,9.28355421835,9.23423677041,9.15497926162,9.15296166076,10.2142451546,10.1147022942,9.88815460641,9.63118231338,9.37077789541,9.10567378502,8.85399804875,8.57982261181,8.33481784344,8.11319462227,7.92543522068,
7.27945212646,7.39291827451,7.82633446153,8.6648755897,9.55473630621,10.0597185402,10.2119060783,10.241788805,10.2105500841,10.1109817672,10.0340923218,10.0023594866,10.0075970459,10.0582121984,10.1100901209,10.1802426625,10.2558807311,10.3002283167,10.2845917738,10.19740859,10.0443264542,9.82177197634,9.62794411171,9.67986919031,9.59362839472,9.3862827774,9.13470750012,8.8950352013,8.65697998284,8.42022176999,
7.38515468193,7.52861145961,7.99359307763,8.7900540291,9.63200788977,10.1817979159,10.4754611162,10.6580747758,10.7359900634,10.709311734,10.6671251987,10.6493793661,10.6442157136,10.6512138175,10.6401385232,10.6099034979,10.5607848259,10.4648061119,10.363732199,10.2343808528,10.0832479247,9.89372134702,9.67850094726,9.44491798499,9.18962899886,8.90537200063,8.54069908455,8.10957214443,7.62087435751,7.1046815896,
7.46977038946,7.96971987393,9.01376865265,9.55614961856,9.94271938836,10.1837145074,9.66012453361,9.37480652328,9.47321540441,9.55772797204,9.61913836985,9.68847270616,9.75668973894,9.83788015443,9.91275433628,9.9822086745,10.0362612565,10.0464410137,10.0213461229,9.95516889599,9.83923175996,9.66460476688,9.44726010556,9.20316703489,8.93339100093,8.62029231496,8.30018037029,8.00178971309,7.71958193448,7.42848515162,
8.84295887554,8.9495664392,9.18654785997,9.4866796063,8.3361286765,8.55130576848,8.71371457065,8.87840353964,9.01864648533,9.11047875293,9.15945416199,9.21340295484,9.28927880807,9.37582628032,9.40521056525,9.42036694101,9.43182951212,9.41903869208,9.4165811263,9.41839697657,9.39796094336,9.32358959276,9.24655728871,9.15338156299,9.05284872779,8.91814333706,8.74500138235,8.58773583471,8.40115788579,8.20420801357,
8.71821684675,8.56135787718,8.08108603433,8.05088454803,8.15075138944,8.72421739297,8.91669390072,9.07957665112,9.20692456132,9.26935144234,9.26347397953,9.23445719494,9.20280686585,9.19330158904,9.19699275777,9.22640000588,9.27636761881,9.32291164018,9.37615337688,9.42729117414,9.439298314,9.38917403263,9.32510509558,9.2498660812,9.17291722394,9.06520091328,8.92764037926,8.81691179876,8.69752735448,8.57449637955,
7.76725940905,7.81313560881,7.91883308726,8.07912776988,8.25062736108,8.34624432665,8.55990388238,8.67498680482,8.72923326356,8.73864532421,8.76453276795,8.80228836931,8.83848071563,8.87927929355,8.93179412334,9.00512399507,9.07147687275,9.118073853,9.14547844814,9.17283904327,9.1881752759,9.1502859316,9.12816855602,9.10727367883,9.07236460303,8.98264434573,8.84531878317,8.72723536775,8.60069643465,8.46947027004,
7.60403430031,7.64903680139,7.7842679975,8.00588231845,8.03359517503,7.87474990942,7.97657762155,8.084735113,8.17478886858,8.23191019204,8.2710882809,8.31039781839,8.34880772068,8.39923366323,8.45105650331,8.5101579756,8.56580513082,8.59259715892,8.61011155773,8.64476885846,8.8143546594,8.80886352323,8.77350828096,8.66268136959,8.49920318093,8.31722894134,8.20274834406,8.12086132972,8.0048474002,7.88554581782,
7.43575912427,7.46912448592,7.4976218299,7.79671164535,8.08485037042,8.08773180905,8.37657612394,8.4572717939,8.53009018604,8.57009027028,8.58559373076,8.60710844637,8.62958432655,8.65926175204,8.68190050826,8.71834119383,8.75633800358,8.77321807376,8.78692888381,8.79193481948,8.77338109395,8.6970952272,8.61017709458,8.5221899172,8.46826712362,8.38113590674,8.26500181497,8.14408238705,7.98950266054,7.83201108957,
7.26269463264,7.29930618113,7.5063630075,7.94541837712,8.39086177752,8.51856209456,8.36136330845,8.10578841213,8.08814187058,8.25287203178,8.35893790576,8.4216244202,8.45090820743,8.46303181581,8.44637067723,8.44694511342,8.44259779008,8.38945523035,8.33253474912,8.27541003484,8.25211568578,8.25445270576,8.30988040618,8.46371853092,8.61947607645,8.66252707731,8.6158486243,8.4804323969,8.2635367116,8.01420298513,
7.39488530877,7.39785864229,7.35733282037,7.7286952973,8.16703443511,8.34105333384,8.31899916338,8.1605995151,8.05701552329,7.96219038477,7.84991326438,7.72989259951,7.57325576139,7.42088988191,7.29141641069,7.23644770913,7.27290235708,7.33063421061,7.48272463719,7.54091147373,6.71413467748,6.79991207083,6.76833715753,6.71020640027,6.65971786197,6.62068326657,6.56224241349,6.52416884885,6.47385535401,6.51311200302,
7.2999689786,7.35683518832,7.46618321298,7.83019214263,8.50516617151,8.33434145505,8.22844575614,8.27068591431,8.26187551618,8.10678779899,7.25987306562,7.17642176492,7.08045452138,7.01508586899,6.9604710127,6.91699385145,6.87315488958,6.82093298914,6.79304515145,6.798295729,6.8146756434,6.77698773058,6.72561366237,6.67290840953,6.63572777888,6.59317587179,6.5112627043,6.42652073711,6.32515543838,6.25173227957,
9.34110235392,9.47626388282,9.32725756053,8.55403716222,7.96340684402,7.64211543469,7.35096561435,7.08275857219,6.91188852553,7.02740835195,7.2166225051,7.19147707514,7.08692291045,6.98104154126,6.85312076335,6.72499204308,6.58605655315,6.36838935718,6.12634799493,5.87928238162,5.60679356291,5.51778960821,5.56528139634,5.52752623569,5.46536255652,5.37938306821,5.27055674675,5.18421594848,5.11365288273,5.21502608565,
6.17483067528,6.18958208923,5.99470502489,6.03725949898,6.60460465014,6.74116494891,6.66453796277,6.69454904151,6.73026147322,6.49185920031,6.32786250745,6.22820369237,6.08569187775,5.91994927634,5.73663037432,5.49864309406,5.30237955963,5.12144884206,5.00994066771,4.97555221202,4.9238236418,4.83101011069,4.69700093532,4.55006797734,4.41332730701,4.30138766894,4.17492434845,4.06854207044,3.97777109102,3.93071471496,
6.75770191776,6.65711478616,6.19553519036,5.87826943167,6.04446626113,6.05685167709,5.88252712603,5.53629376519,5.13797254861,4.79715808797,4.53208284338,4.30892449534,4.32613817192,4.20694168138,4.1927480381,4.11497719629,4.21039064737,4.00002673827,3.85830176595,3.79752931242,3.69934470661,3.68269715335,3.85481546684,3.97758375316,4.07697086057,4.17438218253,4.22466365132,4.23824469336,4.16289922474,4.08108846591,
7.51441659489,7.17405413907,6.81230233092,6.17541069489,5.71337713641,5.74305165123,5.6605830702,5.41925514573,5.0755201031,4.83229960599,4.64567442967,4.34466406873,4.07507266849,3.9098345845,3.78562194572,3.68095076396,3.61006976637,3.57092725386,3.65366376511,3.81363563935,3.97029135579,3.5853852076,3.44769361763,3.36213220637,3.23846131801,3.16330827782,3.10862481552,3.06819001634,3.17203216408,3.20436665813,
7.33389130748,7.53557584813,7.49526197676,6.68670486034,5.95571828281,5.34678531616,4.96634579414,4.66979213753,4.43117376496,4.33410026907,4.23247406256,4.10668495291,4.01377946896,3.82779658533,3.61063764835,3.41419537562,3.27060408131,3.22815120952,3.21391335723,3.16238609192,3.05840502353,2.98700060408,3.1875543244,3.0774645742,2.92879540522,2.83762014331,2.75524062584,2.692918106,2.71587919924,2.74905835458,
6.97300721275,6.90526595432,7.00296041457,6.4257501618,5.5987101287,5.0580630551,4.92397502627,4.59762483594,4.34336207498,4.05052561075,3.78516858788,3.65113572346,3.57860056582,3.46621985489,3.40692778866,3.38158901957,3.38940823449,3.37186022238,3.41958516529,3.44325873046,3.28180870604,3.14831870338,2.97258818547,2.84526958381,2.68191390664,2.55819454837,2.41547111678,2.2666180735,2.17303382074,2.08379679005,
6.50290626936,6.33386654506,6.16472706455,5.79587739452,5.30525067628,5.0669365733,4.72034014104,4.34096193738,3.89603631526,3.68716376136,3.62898850598,3.54509618118,3.44769574886,3.38576416394,3.35727728112,3.36442563573,3.46366101256,3.5124403907,3.46971214374,3.33462202667,3.20215555592,3.07571717272,2.78509979601,2.59874203019,2.68552177875,2.65514621715,2.65675977572,2.62531133473,2.53662909897,2.4951643547,
6.49367692498,6.40633956469,6.13398076999,5.90838990279,5.33440086765,4.74412607081,4.20492589583,3.98386651811,3.83360068612,3.63539367215,3.44931629807,3.35000535752,3.45175341135,3.48587914352,3.43137524513,3.19041617228,3.20204773748,3.27776263219,3.14883533399,3.02779159338,2.93062926399,2.72218681807,2.68764063752,2.66714616327,2.65394646114,2.56024941704,2.40279247242,2.34421030173,2.31209810024,2.25686073166,
6.48468256815,6.33740317839,6.006596932,5.85093800407,5.27766379081,4.86106320322,4.50369111193,4.0208617891,3.64085965916,3.37996134032,3.11554745572,3.02133336635,2.9961196517,3.03580137735,2.95609732405,2.93361691971,2.90651737532,2.87316120014,2.82509368136,2.78930119768,2.68272139584,2.65368586709,2.58087695138,2.47881973632,2.37164624124,2.28769334139,2.26076147171,2.25797029402,2.05594090447,2.08269082831,
5.9658153728,5.97455588148,6.04831324793,5.35839766788,5.04341846263,4.78268847019,4.24718500058,3.73334252432,3.51447419387,3.33274539737,3.09880622465,3.02260597376,2.97442683215,3.13993957657,3.08867840269,2.78092937904,2.7357440122,2.68868199261,2.62622147809,2.55541657724,2.35942825996,2.3005737105,2.23769272191,2.28811062996,2.437336198,2.31757271579,2.10873598571,2.11476495625,2.22664256427,2.44551364993,
5.42699490858,5.44161471615,5.50641873732,5.02679748108,4.71573251569,4.04026203724,3.49534057425,3.32876022505,3.30937226907,3.26845578369,3.19049640245,3.00841826228,2.71107939848,2.5198410816,2.33507038628,2.29146627762,2.25982899031,2.3049716,2.34710939225,2.27298250658,2.14949102049,2.09297759991,2.05384420901,2.07559226689,1.99125998934,1.94882802076,1.95412635256,1.9603958724,1.96359780168,1.87394850896,
5.20668742431,5.14934233368,4.98490000447,4.71925967581,4.15762156532,3.73881822007,3.58055964162,3.38429686954,3.3524295093,2.94389778298,2.71168475416,2.59416312755,2.48096243559,2.46826830699,2.24237012726,2.1374616119,2.03560045437,1.94091402103,1.84836132325,1.79178222682,1.7280061823,1.68615966633,1.61487232505,1.53909465057,1.503573785,1.41448300434,1.32282120461,1.43429904323,1.46536020761,1.42081342397,
5.1602452334,4.98871586088,4.68245306451,4.37175737737,4.16905386083,3.61121503542,3.30910088093,3.31261854828,2.96707880883,2.81925505805,2.73182719372,2.49272014149,2.23903120362,2.13887271022,2.08671541686,1.93079283372,1.78032996146,1.6385538602,1.51642901679,1.44412625438,1.43718214804,1.55992302951,1.57104202292,1.5196658343,1.5043324394,1.47867911946,1.32264222948,1.21280846847,1.13435625151,1.01006898452
]

tmp_arr = np.reshape(np.asarray(arr),(33,30))


#page = urlopen("http://datasets.flowingdata.com/ppg2008.csv")
#nba = pd.read_csv(page, index_col=0)

# Normalize data columns
#nba_norm = (nba - nba.mean()) / (nba.max() - nba.min())

# Sort data according to Points, lowest to highest
# This was just a design choice made by Yau
# inplace=False (default) ->thanks SO user d1337
#nba_sort = nba_norm.sort('PTS', ascending=True)


# Plot it out
fig, ax = plt.subplots()
heatmap = ax.pcolor(tmp_arr, alpha=0.8)

# Format
fig = plt.gcf()
fig.set_size_inches(8, 8)

# turn off the frame
ax.set_frame_on(False)

# put the major ticks at the middle of each cell
ax.set_yticks(np.arange(tmp_arr.shape[0]) + 0.5, minor=False)
ax.set_xticks(np.arange(tmp_arr.shape[1]) + 0.5, minor=False)

# want a more natural, table-like display
ax.invert_yaxis()

# Set the labels

# label source:https://en.wikipedia.org/wiki/Basketball_statistics
xlabels = np.arange(0.0, 6.0, 0.2)
ylables = range(0, 20, 1) + range(25, 90, 5)

# note I could have used nba_sort.columns but made "labels" instead
ax.set_xticklabels(xlabels, minor=False)
ax.set_yticklabels(ylables, minor=False)

# rotate the
plt.xticks(rotation=90)

ax.grid(False)

# Turn off all the ticks
ax = plt.gca()

for t in ax.xaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
for t in ax.yaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
plt.ylabel("PCA components")
plt.xlabel("Threshold for denoising")
plt.title("SNR for time denoising")
plt.legend()

fig.savefig("test.png")