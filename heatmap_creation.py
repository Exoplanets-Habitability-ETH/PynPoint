import matplotlib.pyplot as plt
import pandas as pd
from urllib2 import urlopen
import numpy as np

arr = [4.07294311021,6.98446806326,6.56957261165,9.31080489282,5.22502092361,5.63331805323,5.56800603046,4.94910347687,6.08288238367,5.98706543721,6.68280441977,5.11933610658,5.9829764513,5.61357914032,5.44806659585,5.64324018484,4.76182440286,5.6862860257,6.10137015302,4.9764823712,5.2811506314,5.54723740866,4.05613402386,3.63052313124,5.12942230751,5.01143939992,6.30867592059,4.2595616223,-0.683953953534,4.31574668949,
3.99864266844,4.15469226501,6.36848142313,2.93432735753,4.31939249032,4.26712497767,4.88975490672,4.33573137805,4.35942250619,4.65348143937,4.60370818683,5.00396386601,5.19906820564,4.91370338007,5.06260610198,5.37813499777,4.85655931494,4.88006031415,4.75781288551,4.9415852771,5.25008292742,5.30595370359,5.28629625045,5.08775287044,5.09419068591,4.83012411056,4.66107242407,4.79573773192,4.53824889912,4.45827410771,
4.52441928443,4.50325347602,5.23792483446,3.53136797143,5.92897676899,4.73105295593,5.55749285657,4.83502804174,5.01113562155,5.34718444091,4.64657623358,5.10035890907,6.52527107142,5.8750153937,5.84066536811,6.19884215593,6.9179447172,7.08443302479,6.94100669692,4.96251064327,7.00107552287,6.42942929505,7.40987624228,5.00967970805,6.02443542283,5.66965554008,5.4193201075,4.45906092901,5.35592968767,5.24186639403,
4.95532486175,8.48656634109,9.59425544603,2.45704705983,5.69406269248,4.96424736076,6.41308690303,5.71220504003,7.60572954062,7.02591108747,7.72891006453,6.12572127304,7.32703026918,6.4775858374,6.66533890348,7.28097552991,7.78922151277,7.95415367908,7.71762240944,5.8946513123,7.81975394226,7.82285839583,8.38341265562,7.25346366648,9.80413682932,5.97633334234,5.74000019973,5.67831646858,5.57552057396,5.47355466623,
5.88920019616,8.40745405609,5.85199409132,7.581605822,6.00636718789,6.27543037734,6.18877141839,6.54414894318,7.50758258282,7.12001146957,8.22575582316,6.73870775473,8.50232856346,7.06039924325,6.63264741366,7.29417406018,7.8264480082,8.08382395337,7.89658723794,7.67790169933,7.90792062056,7.77880443723,8.54916362692,8.07855357454,8.51678657074,7.4056840558,6.09592675222,6.02312701334,5.53015903147,4.15080763004,
5.8082177448,8.94489773893,7.26880347824,6.42816061158,7.29430882157,5.15124138946,6.50362580493,6.71082218068,7.77168805964,8.49409076208,7.85869949239,6.898547984,8.81980232969,7.35072748417,7.20431595297,8.60977826326,7.91947204581,10.5645633881,8.26966173819,7.8155663826,6.60326085053,8.09831091227,8.98551206975,8.19654705096,7.59943173712,8.27238696596,5.87882061238,5.47526498696,4.22896851585,4.15971385538,
6.21608011719,10.010423897,7.87052300062,5.8186239352,8.16911561162,5.61222636638,7.03771155901,8.25097303048,6.48928109902,8.16603038742,8.11913467684,8.38378894854,8.76553292297,7.14896481194,4.92800866927,8.79182074456,8.84782943804,7.6681974648,8.30979957085,9.29647295082,8.81496278153,8.69960762298,9.50377374424,8.24799777612,8.53468813417,8.87908478375,5.726630441,5.45543825474,4.11193250273,4.14597883666,
7.86289954023,10.4718486306,7.96266591189,8.6534829591,4.78157252205,10.6716627483,3.02327108257,6.3753160627,6.24362732062,7.79467092136,6.09547140499,5.59620633747,8.07162167252,7.62573627451,5.55202062551,8.73628073743,10.1636913147,9.73598536103,8.47355489315,10.3590973119,11.223884904,8.60551841305,10.3771531847,8.05226022961,11.0265249532,8.56301016436,5.86588203057,5.28357415135,4.22235883178,2.52597189179,
8.4070313782,9.37078551557,9.12243794421,9.60775542608,4.48421355507,10.6805308788,2.89974480628,5.13828600077,6.23737781058,7.78617143652,8.09211634288,5.44697072519,6.96164924397,7.37764881533,4.76415392689,7.51133590809,10.449915454,9.59934510254,8.36946818745,9.96452067172,10.7904629855,8.62345876779,10.2429548044,9.21161338945,7.58749572078,8.29285486233,5.49775998049,5.22391129086,4.22716591229,2.49139272789,
8.54598082988,8.08175092339,7.24660172395,9.62689657223,4.46830535578,6.46448458106,4.92945062943,5.02842173335,6.2564327646,6.41764215062,6.81565926922,4.94736475393,6.69551251967,6.05377053377,5.16673234622,6.51077114497,7.27353493798,7.19414487683,8.55224822994,7.24619253092,7.80508614146,7.69946657239,9.85949760691,10.9467362872,7.07277788253,8.2160423911,7.41887248264,5.19780157924,2.72151910368,2.47983149457,
8.23490226201,8.54984921915,7.68490341584,9.23074302549,5.67643633368,7.74030580689,4.94071537645,5.00721467735,6.27569367047,6.64542966613,6.42698171188,6.97525764973,6.44403290569,5.90995454049,5.28390568559,6.56511780821,7.26319508173,7.20935859846,6.69669698686,7.21838752527,7.61065843999,7.70388439577,7.2854904604,7.39163176329,7.3983955567,8.21085084124,7.41771076627,3.76462920931,2.6565925428,2.64091601884,
8.51572718308,8.5955767631,7.77378756542,9.49079907972,6.78278932982,5.46446718478,4.85406810469,4.93962764814,5.23010048316,5.96460255218,6.93726893662,6.98135978886,6.35144299693,5.41766693124,5.15704615207,6.59483351169,7.26931903616,7.15792307622,6.69777412362,7.26727314373,7.73007631768,7.76896631374,7.23509685754,7.40851316133,7.05512082145,8.21248042124,8.10256181494,3.75879495655,2.69655464819,4.98638265036,
8.78086835305,9.19111342039,7.22572794535,8.8061309818,9.62399691268,5.48353814517,4.89260136477,4.94451917266,4.97485208277,5.96931646261,7.36854139294,6.87871159189,6.69419385556,5.7300208449,5.10089724006,6.54283302978,7.2744159317,7.16443869356,6.64868744682,6.99020177163,7.53978446417,7.78837850938,7.29477787126,7.53678865715,7.05343816662,8.215540866,9.35836568212,10.4348995951,4.16650973189,5.07552086683,
8.8943849397,8.92873852316,7.73181520759,9.40614331408,9.53610648979,4.54907487592,6.00564427435,4.37869025234,5.0063211243,6.72338977416,7.40550219388,7.42355872798,6.69749562882,5.74151433609,6.7880684542,6.54665476465,7.29691421569,7.15341948516,6.64531309646,6.96222644986,7.53871803277,7.78297104683,7.28041214355,7.52266147151,5.54113162779,8.77307201563,9.35505562163,10.4797079088,7.40247470815,5.0920701187,
9.57010740492,9.93473796599,8.11933350213,8.13643451923,9.59471006792,4.11229281352,7.64901338935,4.39683452967,6.03163830473,6.69521542638,7.46301444292,7.40930773253,6.68168960671,6.53197867663,6.60613041931,6.5559446833,7.31130299125,6.96777751765,6.62627142609,6.93821610284,7.71337533067,7.78462560539,7.27600733647,7.51963986528,5.42060210171,5.46607567486,8.33588696234,10.5676472664,7.42274665877,5.08100567914,
8.86951804449,9.99910893966,8.05608629744,8.26128057447,9.20303225439,4.1694159285,8.46260570157,4.75880455695,6.68769384989,6.8477596041,8.09692839144,7.40210120013,5.78307920358,6.3938331951,6.87151441454,6.5882381895,5.64432388698,6.25367089831,5.12117111377,7.83582237713,6.27097607826,7.9593214009,5.72154958987,7.47344125094,5.40849043365,5.36584621626,6.28632438067,10.4042366731,7.68779145545,5.98851926873,
9.10734036114,8.82729399343,7.96814169333,7.95819856722,6.22195996836,7.14812459803,8.46406669437,4.72968045309,6.6645187894,5.97191880744,8.06640818899,7.48991133584,5.5545762528,6.40164733574,6.41026212646,6.69743509409,5.62560678855,6.28454425978,4.90186860288,8.15113960211,6.08606701905,6.09243046591,5.73246108359,7.67593270278,5.40196561211,5.35776907504,6.28315278481,9.91986567521,7.69975233105,5.54209761905,
9.080724814,7.02111349957,8.21812188365,7.87740429353,6.65283868268,7.09840996821,8.36941351593,5.02778857038,6.57858510823,5.06971613242,7.9652246638,5.72376742988,5.59234909781,6.3946179973,5.05935551763,5.67134514638,5.58390653969,6.17079433718,4.88568971334,5.94981270735,6.27315813629,5.90052287823,5.73047887448,5.52376947942,5.85271428856,6.09251668426,6.28012901918,6.03741740773,7.72411488283,5.53657399781,
8.18364012823,6.59656255777,7.98244757335,7.80741238603,6.772646353,7.49780515325,8.40326310649,4.9386576983,6.54426978144,4.03526244277,5.39935999639,6.77396494876,5.67711967223,5.59399579571,5.19534715828,5.68455151578,5.5915462367,5.66609740664,4.89616442489,5.85684305408,6.25504631105,5.8905215555,5.72434909161,5.49625291117,5.86192181071,6.07849055549,5.93948259498,6.03084961352,6.60739809719,4.78010253636,
8.04390633848,6.33607256588,7.85792824689,7.48341925989,7.8239732902,7.91150093979,8.56245108551,5.11901709252,6.71147130831,4.00130178506,5.45661809858,6.73729107303,5.94841541348,5.40207569153,5.46997698191,5.64970220343,5.45411217788,5.59912524704,4.89211298634,5.85424091833,6.09187678569,5.86941626837,5.79212965457,5.48163364273,4.88905403126,4.83540693349,6.65003748311,6.20815512285,7.17381645051,5.91491719598,
7.48714156455,6.70160444871,8.66416823102,6.97661657635,8.70235036208,10.6423048713,7.92822081409,7.45281805093,7.79486591641,6.63330832921,6.90037442206,6.07859813577,5.36732797619,5.99245498951,5.0239987761,4.61310336017,6.66563477168,5.42042604005,5.48327887582,5.04049699364,4.18828045418,4.1070722217,4.00280512792,5.19448631293,4.28711859484,3.80992064406,3.63287265212,3.19694755747,3.42881035909,5.28741351848,
7.27892717972,6.47539139183,5.30204688571,6.69213747312,7.54156245784,6.52773073334,11.5097449593,7.94193831815,8.16118185223,8.38516243881,6.47346490031,6.33754276291,7.08015295769,6.48482177162,5.98950135536,6.61671711205,8.99831664046,9.2685854178,6.37381878968,7.08173557243,6.11397597734,7.4717973572,5.92878637252,5.87214699471,7.94466092261,7.57285337394,7.88563285015,7.69512271134,8.05330643608,8.43160468436,
7.41898814909,6.43703593199,5.61289274986,6.31667857784,8.34691260594,8.55816604911,12.9474234642,10.2937342929,9.28136709568,6.8555924656,7.03424313988,6.51957182226,5.469176181,7.76735943249,8.28111872291,7.03071122082,7.83877185516,6.72564794531,9.5907411999,9.41925701521,8.68041255095,7.4092531435,8.1608329807,6.91788595332,9.15705478188,8.73047013567,8.51828067438,8.67007381048,8.79404593838,9.21843287519,
6.6632755052,5.8733444766,6.17944707753,5.80130740798,8.69804336955,8.29789217696,10.9857897332,11.7126521794,7.80791829012,8.11454836288,9.07038236277,9.03551163283,8.00949172658,7.51297383094,10.2406609925,10.525127027,6.79118576064,7.43929968589,7.45491516117,7.76390897461,7.96138989808,7.75555761696,7.84116288291,8.56833438107,8.05592310464,7.55582529868,7.96091306252,8.71458258749,8.94276761229,8.52081311911,
6.95441048346,5.69738379767,6.87242890854,5.98797888099,8.23657179986,9.09727158413,7.46934567141,8.85104693904,7.63033775672,9.23915768283,9.07721584859,9.33143038208,9.15147561371,8.22060381632,7.77479618683,8.4150500838,6.99513534987,7.37768139974,7.65710810469,6.3949840746,6.44380100875,6.76085207485,7.10421873734,7.93333243689,6.61284431855,6.83483152791,6.82242698812,7.66966681086,7.90464123821,6.23549790319,
6.90153555126,7.99924139451,6.96875802895,8.03332155158,8.18530758507,8.36506707252,8.09618862364,8.11953448568,8.60252086714,8.11254248057,9.10371333589,7.93632873003,9.033665642,8.33538961791,8.01852472364,7.39208082181,5.5852232812,6.56774816147,6.18438210561,4.6099207032,4.40089365633,4.6486254904,6.31822446937,6.56400723787,4.78326672508,4.48834061822,4.72159957025,6.66926791896,5.82806096015,7.14015902489,
7.42899427911,9.32827311681,8.54332450859,10.0692989443,8.6934482988,8.44362314162,7.38775335927,7.30078560794,7.93772418766,8.92325521347,10.2557689237,8.51763293185,8.43194774393,7.3107668618,7.25506465802,6.26771815912,5.38812569636,5.15592081382,4.99265759297,4.48896098861,4.59074862765,4.23457739343,4.35516585596,4.74993890967,4.23423640322,4.73808425435,5.30734450431,6.06562211062,6.09762637772,6.5142740883,
8.7594255713,8.58237575233,8.534609969,10.3828292995,9.47086149224,8.08195715253,6.45309246096,6.89450079866,8.03435289249,8.29307897495,6.26744336775,8.31109338575,5.80430347465,6.01833625582,5.35137785193,4.67100660729,4.35999389705,4.62325207077,4.08134462749,4.70970895854,3.61672108955,4.34913108324,4.44543838121,4.94078922477,3.6162250791,4.51996497942,4.92653031091,5.86966962862,6.06896645559,6.73264204656,
8.53766390409,9.55724598893,9.60142946679,8.72333283062,6.59470606478,6.6535150118,8.54007749644,6.31377890873,7.32432383851,6.87387433227,6.34058555116,5.63552287718,5.9608496403,5.12075933891,5.41294677024,5.07764514982,3.94619356582,4.43462586475,3.8694111885,3.95701412179,3.19571525943,3.71340456946,4.75280149445,4.07145040292,4.57314228758,4.17823905695,4.56220234206,6.27635865046,5.97504247888,6.5005032819,
9.48040947294,8.64729356379,8.79056085209,8.4837679438,8.3517708521,8.03109525303,6.84988600824,6.94340991882,5.62409775233,5.33765386158,5.83387808808,5.81179741589,6.646646278,5.83538851245,4.96470670655,4.38718298548,3.95153905779,3.72885922837,4.06312833678,3.6598062363,3.83550901585,3.6718332714,3.81024816575,4.00557156702,3.45032528536,4.31229398327,4.89263629618,5.11992921179,6.00006791208,5.97673040561,
8.82176441324,6.10842910824,7.1169268801,10.0226310289,6.23239136008,6.80222847833,5.28128980976,7.50646421177,4.75068429325,5.86562097161,5.36619467665,5.8719834833,5.88606242064,5.10503098546,4.25482588583,4.0148962364,3.56251107065,3.97267025351,3.25534495515,3.31741054433,3.37455157418,3.23049320682,3.46854996414,4.09426761801,3.98700020048,5.05921629148,4.53057538387,5.36631954037,5.7403553145,5.80627927873,
6.66107640356,6.97320403876,8.36715050615,10.0496580247,7.39119536983,6.90194151169,6.70705275623,7.0722868365,4.55923842337,5.91939084877,4.74739784676,5.11992274669,5.02091409981,4.20433472072,4.19879516572,3.85460077028,3.8493894548,3.45825856835,3.03521915487,3.34251370205,3.20544910432,3.72284788503,3.39695072432,3.93106420137,4.44914448998,4.78634067889,5.08461688068,5.50266026886,5.92590231079,5.39986656763,
9.20697161093,8.43417604715,10.5913494479,8.58051366465,8.18087297148,6.67839172069,5.6938467354,5.89812878295,4.28465479845,5.66391133952,4.55478728112,3.9267863657,4.84206983581,4.53036057324,3.78522076486,4.07900740333,3.44931955764,2.68426669474,2.44433125353,2.88491581064,3.22836415384,3.61958272934,3.65579272609,4.42410645897,4.8012278656,4.9266478894,5.35521968042,5.15305844141,5.84685322363,5.78573834653
]

tmp_arr = np.reshape(np.asarray(arr),(33,30))


#page = urlopen("http://datasets.flowingdata.com/ppg2008.csv")
#nba = pd.read_csv(page, index_col=0)

# Normalize data columns
#nba_norm = (nba - nba.mean()) / (nba.max() - nba.min())

# Sort data according to Points, lowest to highest
# This was just a design choice made by Yau
# inplace=False (default) ->thanks SO user d1337
#nba_sort = nba_norm.sort('PTS', ascending=True)


# Plot it out
fig, ax = plt.subplots()
heatmap = ax.pcolor(tmp_arr, alpha=0.8)

# Format
fig = plt.gcf()
fig.set_size_inches(8, 8)

# turn off the frame
ax.set_frame_on(False)

# put the major ticks at the middle of each cell
ax.set_yticks(np.arange(tmp_arr.shape[0]) + 0.5, minor=False)
ax.set_xticks(np.arange(tmp_arr.shape[1]) + 0.5, minor=False)

# want a more natural, table-like display
ax.invert_yaxis()

# Set the labels

# label source:https://en.wikipedia.org/wiki/Basketball_statistics
xlabels = np.arange(0.0, 6.0, 0.2)
ylables = range(0, 20, 1) + range(25, 90, 5)

# note I could have used nba_sort.columns but made "labels" instead
ax.set_xticklabels(xlabels, minor=False)
ax.set_yticklabels(ylables, minor=False)

# rotate the
plt.xticks(rotation=90)

ax.grid(False)

# Turn off all the ticks
ax = plt.gca()

for t in ax.xaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
for t in ax.yaxis.get_major_ticks():
    t.tick1On = False
    t.tick2On = False
plt.ylabel("PCA components")
plt.xlabel("Threshold for denoising")
plt.title("SNR for time denoising")
plt.legend()

fig.savefig("test.png")